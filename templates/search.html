<!doctype html>
<head>
<title>Search</title>
<link rel="stylesheet" type="text/css" href="/static/wcsa.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    var semdata = [];
    $( function() {
    function log( message ) {
      $( "<div>" ).text( message ).prependTo( "#results" );
      $( "#results" ).scrollTop( 0 );
    }
 
    $( "#semautocomplete" ).autocomplete({
      source: "/search",
      minLength: 2,
      select: function( event, ui ) {
        //collect the ids to post back later
        semdata.push(ui.item.id);
        console.log(semdata);
        log( "Selected: " + ui.item.value + " aka " + ui.item.id );
      }
    });
  } );
</script>
</head>
<body>
<div class="ui-widget">
   <input id="semautocomplete" />
</div>
<div class="ui-widget">
  <div id="results"></div>
</div>
<button id="searchdata" type="button">Search data</button>
<script>
  //script to send data to server
  $("button").click(function() {
    console.log('Pressing button');
    $.post('/data',  {data: semdata})
  });
</script>
</body>
</html>
